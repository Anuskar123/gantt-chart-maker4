<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Modern Gantt Chart Maker</title>
    <link rel="stylesheet" href="styles/main.css">
    <link rel="stylesheet" href="styles/components.css">
    <link rel="stylesheet" href="styles/chart.css">
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>

<body>
    <div class="app-container">
        <!-- Header / Toolbar -->
        <header class="app-toolbar">
            <div class="logo">Gantt.io</div>
            <div class="toolbar-actions" style="display: flex; align-items: center; gap: 10px;">
                <div style="display: flex; align-items: center; margin-right: 15px;">
                    <button onclick="document.getElementById('task-color-picker').click()" class="btn-secondary"
                        style="display: flex; align-items: center; gap: 6px; padding: 4px 10px; font-size: 0.85rem; font-weight: 500;">
                        <span id="color-preview-dot"
                            style="display: inline-block; width: 14px; height: 14px; background-color: var(--task-blue); border-radius: 50%; border: 1px solid var(--border-color);"></span>
                        Task Color
                    </button>
                    <input type="color" id="task-color-picker" value="#0052cc" title="Choose Task Color"
                        style="opacity: 0; position: absolute; pointer-events: none; width: 0; height: 0;">
                </div>
                <!-- View Modes -->
                <div class="view-modes" style="display: flex; gap: 5px; margin-right: 15px;">
                    <button onclick="setViewMode('days')" class="btn-secondary" id="btn-view-days"
                        style="background-color: var(--primary-color); color: white; border-color: var(--primary-color);">Days</button>
                    <button onclick="setViewMode('weeks')" class="btn-secondary" id="btn-view-weeks">Weeks</button>
                    <button onclick="setViewMode('months')" class="btn-secondary" id="btn-view-months">Months</button>
                </div>

                <button onclick="loadDemoData()" class="btn-secondary">Load Demo</button>
                <button onclick="exportChart()" class="btn-secondary">Download Export</button>
                <button onclick="addNewTask()" class="btn-primary">+ Add Task</button>
                <div class="view-controls" style="display: flex; gap: 5px; align-items: center; margin-left: 10px;">
                    <label style="font-size: 0.8rem; color: var(--text-secondary);">Range:</label>
                    <input type="date" id="view-start" title="View Start Date" style="width: auto; padding: 5px;">
                    <span style="color: var(--text-secondary);">-</span>
                    <input type="date" id="view-end" title="View End Date" style="width: auto; padding: 5px;">
                </div>
            </div>
        </header>

        <!-- Split Pane Content -->
        <div class="split-pane">
            <!-- Left Pane: Grid / Spreadsheet -->
            <div class="pane-left" id="pane-left">
                <div class="grid-header">
                    <div class="grid-cell c-id">#</div>
                    <div class="grid-cell c-name">Task Name</div>
                    <div class="grid-cell c-start">Start</div>
                    <div class="grid-cell c-dur">Dur.</div>
                    <div class="grid-cell c-dep">Dep.</div>
                </div>
                <div class="grid-body" id="grid-body">
                    <!-- Rows injected via JS -->
                </div>
            </div>

            <!-- Resizer Handle -->
            <div class="resizer" id="resizer"></div>

            <!-- Right Pane: Timeline -->
            <div class="pane-right" id="pane-right">
                <div class="gantt-header-wrapper" id="gantt-header-wrapper">
                    <div class="gantt-header" id="gantt-header">
                        <!-- Date headers injected here -->
                    </div>
                </div>
                <div class="gantt-body-scroll-container" id="gantt-body-scroll">
                    <div class="gantt-body" id="gantt-body">
                        <!-- Bars injected here -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="scripts/bundle.js"></script>
</body>

</html>